var CheckoutController = function () { var t = { streets: [], wards: [], districts: [], provinces: [] }; function e() { var t = document.getElementById("Ward").value; "" !== t && $.ajax({ type: "GET", data: { NameWard: t }, url: "/Address/GetDistrictByWard", dataType: "json", success: function (t) { var e = t; document.getElementById("District").value = e.Name }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) } function r() { var t = document.getElementById("District").value, e = document.getElementById("Ward").value; "" !== e && $.ajax({ type: "GET", data: { NameWard: e }, url: "/Address/GetProvinceByWard", dataType: "json", success: function (t) { var e = t; document.getElementById("Province").value = e.Name }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== t && $.ajax({ type: "GET", data: { NameDistrict: t }, url: "/Address/GetProvinceByDistrict", dataType: "json", success: function (t) { var e = t; document.getElementById("Province").value = e.Name }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) } function a() { var t = document.getElementById("Street").value; "" !== t && $.ajax({ type: "GET", data: { NameStreet: t }, url: "/Address/GetWardByNameStreet", dataType: "json", success: function (t) { var e = t; document.getElementById("Ward").value = e.Name }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) } function n() { var t = document.getElementById("District").value, e = document.getElementById("Ward").value; "" !== t && $("#Street").removeAttr("disabled"), "" !== e && $("#Street").removeAttr("disabled") } this.initialize = function () { $.when($.ajax({ type: "GET", url: "/Address/GetStreets", dataType: "json", success: function (e) { t.streets = e }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), $.ajax({ type: "GET", url: "/Address/GetWards", dataType: "json", success: function (e) { t.wards = e }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), $.ajax({ type: "GET", url: "/Address/GetDistricts", dataType: "json", success: function (e) { t.districts = e }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), $.ajax({ type: "GET", url: "/Address/GetProvinces", dataType: "json", success: function (e) { t.provinces = e }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } })).done(function () { }), $("#Province").keypress(function () { $.ajax({ type: "GET", url: "/Address/GetProvincesByKeyString", data: { KeyString: $(this).val() }, dataType: "json", success: function (t) { provinces = t; var e = "", r = $("#template-table-province-details").html(); $.each(provinces, function (t, a) { e += Mustache.render(r, { Name: a.Name, Id: a.Id }) }), $("#tbl-province-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Province").value = t } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("#District").keypress(function () { var t = document.getElementById("Province").value, e = document.getElementById("Ward").value; "" === t && "" === e && $.ajax({ type: "GET", url: "/Address/GetDistrictsByKeyString", data: { KeyString: $(this).val() }, dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== t && "" === e && $.ajax({ type: "GET", url: "/Address/GetDistrictsByKeyStringAndNameProvince", data: { KeyString: $(this).val(), NameProvince: t }, dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== e && $.ajax({ type: "GET", url: "/Address/GetDistrictsByNameWard", data: { NameWard: e }, dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("#Ward").keypress(function () { var t = document.getElementById("Province").value, a = document.getElementById("District").value; "" === t && "" === a && $.ajax({ type: "GET", url: "/Address/GetWardsByKeyString", data: { KeyString: $(this).val() }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name, Id: e.Id }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== t && "" === a && $.ajax({ type: "GET", url: "/Address/GetWardsByKeyStringAndNameProvince", data: { KeyString: $(this).val(), NameProvince: t }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name, Id: e.Id }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" === t && "" !== a && $.ajax({ type: "GET", url: "/Address/GetWardsByKeyStringAndNameDistrict", data: { KeyString: $(this).val(), NameDistrict: a }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name, Id: e.Id }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== t && "" !== a && $.ajax({ type: "GET", url: "/Address/GetWardsByKeyStringAndNameDistrictAndNameProvince", data: { KeyString: $(this).val(), NameDistrict: a, NameProvince: t }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name, Id: e.Id }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("#Street").keypress(function () { var t = document.getElementById("Ward").value, e = document.getElementById("District").value, r = document.getElementById("Province").value; "" !== t && "" !== e && $.ajax({ type: "GET", url: "/Address/GetStreetsByKeyStringByDistrictWard", data: { KeyString: $(this).val(), NameWard: t, NameDistrict: e }, dataType: "json", success: function (t) { wards = t; var e = "", r = $("#template-table-street-details").html(); $.each(wards, function (t, a) { e += Mustache.render(r, { Name: a.Name, Id: a.Id }) }), $("#tbl-ward-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Street").value = t, a() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== r && "" !== e && $.ajax({ type: "GET", url: "/Address/GetStreetsByKeyStringByProvinceDistrict", data: { KeyString: $(this).val(), NameProvince: r, NameDistrict: e }, dataType: "json", success: function (t) { wards = t; var e = "", r = $("#template-table-street-details").html(); $.each(wards, function (t, a) { e += Mustache.render(r, { Name: a.Name, Id: a.Id }) }), $("#tbl-ward-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("Street").value = t, a() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("body").on("click", "#Province", function (t) { t.preventDefault(); var e = document.getElementById("Province").value; "" === e && $.ajax({ type: "GET", url: "/Address/GetProvinces", dataType: "json", success: function (t) { provinces = t; var e = "", r = $("#template-table-province-details").html(); $.each(provinces, function (t, a) { e += Mustache.render(r, { Name: a.Name, Id: a.Id }) }), $("#tbl-province-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); $("#Province").val(t), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("body").on("click", "#District", function (t) { t.preventDefault(); var e = document.getElementById("Province").value, a = document.getElementById("Ward").value; "" === e && "" === a ? $.ajax({ type: "GET", url: "/Address/GetDistricts", dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) : "" !== e && "" === a ? $.ajax({ type: "GET", data: { NameProvince: e }, url: "/Address/GetDistrictsByNameProvince", dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) : "" !== a && "" === e && $.ajax({ type: "GET", data: { NameWard: a }, url: "/Address/GetDistrictsByNameWard", dataType: "json", success: function (t) { districts = t; var e = "", a = $("#template-table-district-details").html(); $.each(districts, function (t, r) { e += Mustache.render(a, { Name: r.Name, Id: r.Id }) }), $("#tbl-district-details").html(e), $(".dropdown-menu a").on({ click: function () { var t = $(this).text(); document.getElementById("District").value = t, r(), n() } }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }), $("body").on("click", "#Ward", function (t) { t.preventDefault(); var a = document.getElementById("District").value, d = document.getElementById("Province").value; "" === a && "" === d ? $("#Ward").attr("placeholder", "Vui Lòng Nhập Vài Từ Tìm ...") : "" !== d && "" !== a ? $.ajax({ type: "GET", url: "/Address/GetWardsByNameDistrictAndNameProvince", data: { NameProvince: d, NameDistrict: a }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").click(function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) : ("" !== a && $.ajax({ type: "GET", url: "/Address/GetWardsByNameDistrict", data: { NameDistrict: a }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").click(function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }), "" !== d && $.ajax({ type: "GET", url: "/Address/GetWardsByNameProvince", data: { NameProvince: d }, dataType: "json", success: function (t) { wards = t; var a = "", d = $("#template-table-ward-details").html(); $.each(wards, function (t, e) { a += Mustache.render(d, { Name: e.Name }) }), $("#tbl-ward-details").html(a), $(".dropdown-menu a").click(function () { var t = $(this).text(); document.getElementById("Ward").value = t, e(), r(), n() }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } })) }), $("body").on("click", "#Street", function (t) { t.preventDefault(); var e = document.getElementById("Ward").value, r = document.getElementById("District").value, n = document.getElementById("Province").value; "" !== r && "" !== e ? $.ajax({ type: "GET", url: "/Address/GetStreetsByNameWardAndNameDistrict", data: { NameWard: e, NameDistrict: r }, dataType: "json", success: function (t) { streets = t; var e = "", r = $("#template-table-street-details").html(); $.each(streets, function (t, a) { e += Mustache.render(r, { Name: a.Name }) }), $("#tbl-street-details").html(e), $(".dropdown-menu a").click(function () { var t = $(this).text(); document.getElementById("Street").value = t, a() }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) : "" !== n && "" !== r && $.ajax({ type: "GET", url: "/Address/GetStreetsByNameProvinceAndNameDistrict", data: { NameProvince: n, NameDistrict: r }, dataType: "json", success: function (t) { streets = t; var e = "", r = $("#template-table-street-details").html(); $.each(streets, function (t, a) { e += Mustache.render(r, { Name: a.Name }) }), $("#tbl-street-details").html(e), $(".dropdown-menu a").click(function () { var t = $(this).text(); document.getElementById("Street").value = t, a() }) }, error: function () { tedu.notify("Có lỗi trong xử lý yêu cầu", "error") } }) }) } };